<Window x:Class="Headquarters.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Headquarters"
        mc:Ignorable="d"
        Title="Headquaters" MinHeight="600"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="13"
        TextOptions.TextFormattingMode="Ideal"
        TextOptions.TextRenderingMode="Auto"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="{DynamicResource MaterialDesignFont}">

    <Window.Resources>

    </Window.Resources>

    <DockPanel>
        <materialDesign:ColorZone Mode="PrimaryMid" Padding="16" DockPanel.Dock="Top" materialDesign:ShadowAssist.ShadowDepth="Depth3" Panel.ZIndex="100">
            <Grid Margin="16,0,0,0">
                <TextBlock Style="{StaticResource MaterialDesignDisplay1TextBlock}">HQ</TextBlock>
                <TextBlock HorizontalAlignment="Right">
                    <materialDesign:PackIcon Kind="Account" Foreground="{Binding ElementName=tbUserName, Path=BorderBrush}" />
                    <TextBox x:Name="tbUserName" materialDesign:HintAssist.Hint="Name" Width="200"  Text="{Binding Value}" Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                
                    <materialDesign:PackIcon Kind="Key" Foreground="{Binding ElementName=pbUserPassword, Path=BorderBrush}" Margin="16,0,0,0"/>
                    <PasswordBox Name="pbUserPassword" materialDesign:HintAssist.Hint="Password" Width="200" Style="{StaticResource MaterialDesignFloatingHintPasswordBox}" />
                </TextBlock>
            </Grid>
        </materialDesign:ColorZone>

        <Grid DockPanel.Dock="Left">
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="300" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            
            <!-- IPList -->
            <DockPanel Grid.Column="0" Margin="0">
                <materialDesign:ColorZone Mode="PrimaryDark" Padding="16" DockPanel.Dock="Top">
                    <StackPanel Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="IpNetwork"/>
                        <TextBlock VerticalAlignment="Center" Margin="8,0,0,0">IP List</TextBlock>
                    </StackPanel>
                </materialDesign:ColorZone>

                <DataGrid x:Name="dgIPList" 
                      ItemsSource="{Binding Items}" 
                      Margin="8,8,8,8" 
                      VerticalScrollBarVisibility="Auto"
                      DockPanel.Dock="Bottom">

                    <DataGrid.Resources>
                        <DataTemplate x:Key="SelectAll">
                            <CheckBox IsChecked="{Binding DataContext.IsSelected, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type DataGrid}}}" />
                        </DataTemplate>
                        <DataTemplate x:Key="IsSelected">
                            <CheckBox IsChecked="{Binding IsSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                        </DataTemplate>
                    </DataGrid.Resources>

                </DataGrid>
            </DockPanel>


            <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Stretch" />

            <StackPanel Grid.Column="2">
                <Separator Height="28" Margin="0"/>

                <materialDesign:Transitioner Name="transScripts" SelectedIndex="0" Margin="0">
                    <ScrollViewer>
                        <ItemsControl Name="ScriptButtons" ItemsSource="{Binding Items}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Button 
                                    Command="{x:Static local:NavigationCommands.MoveNextCommand}"
                                    CommandParameter="{Binding}"
                                    Content="{Binding Header}" 
                                    HorizontalAlignment="Left" />
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </ScrollViewer>
                    <materialDesign:TransitionerSlide OpeningEffect="{materialDesign:TransitionEffect FadeIn}">
                        <StackPanel>
                            <Button Command="{x:Static materialDesign:Transitioner.MovePreviousCommand}" HorizontalAlignment="Left">
                                Prev
                            </Button>
                            <ListBox ItemsSource="{Binding Current.Parameters}">
                                <ListBox.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock>
                                        <Label Content="{Binding Name}" Width="100"/>
                                        <TextBox Text="{Binding Value}" MinWidth="100"/>
                                        </TextBlock>
                                    </DataTemplate>
                                </ListBox.ItemTemplate>
                            </ListBox>

                            <Button Content="Run" HorizontalAlignment="Right" Width="106" RenderTransformOrigin="0.613,4.156" Click="Button_Click"/>
                            <TextBox Name ="tbError"
                                 Style="{StaticResource MaterialDesignOutlinedTextFieldTextBox}"
                                 TextWrapping="Wrap" VerticalAlignment="Top"
                                 IsReadOnly="True"
                                 AcceptsReturn="True"
                                 VerticalScrollBarVisibility="Auto"     
                                 Margin="8,8,8,8"
                                 />
                        </StackPanel>
                    </materialDesign:TransitionerSlide>
                </materialDesign:Transitioner>




            </StackPanel>
        </Grid>
    </DockPanel>
</Window>
